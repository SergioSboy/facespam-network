"use strict";(self.webpackChunksocial_network=self.webpackChunksocial_network||[]).push([[304],{7304:(s,e,t)=>{t.r(e),t.d(e,{default:()=>A});var r=t(2791);const i="ProfileInfo_photo__8xnE2",a="ProfileInfo_content__img__-jOSP";var o=t(539),n=t(394),l=t(184);const p=s=>{const[e,t]=(0,r.useState)(!1),[i,a]=(0,r.useState)(s.status);(0,r.useEffect)((()=>{a(s.status)}),[s.status]);return(0,l.jsxs)("div",{children:[s.isOwner?!e&&(0,l.jsx)("div",{children:(0,l.jsxs)("span",{onDoubleClick:()=>{t(!0)},children:["  ",i||"-----"]})}):(0,l.jsxs)("span",{children:[" ",i||"-----"]}),e&&(0,l.jsx)("div",{children:(0,l.jsx)(n.Z,{autoFocus:!0,onBlur:()=>{t(!1),s.updateStatus(i)},onChange:s=>{a(s.target.value)},value:i})})]})};var u=t(8478);const d=s=>{if(!s.profile)return(0,l.jsx)(o.Z,{});return(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{children:(0,l.jsx)("img",{alt:"description of image",className:a,src:"https://i.stack.imgur.com/SvWWN.png"})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("img",{alt:"avatar",src:s.profile.photos.large||u,className:i}),s.profile.fullName]}),(0,l.jsxs)("div",{children:[s.isOwner&&(0,l.jsx)("input",{type:"file",onChange:e=>{e.target.files.length&&s.savePhoto(e.target.files[0])}}),(0,l.jsx)(p,{isOwner:s.isOwner,status:s.status,updateStatus:s.updateStatus}),"CONTACT:"]}),(0,l.jsxs)("div",{children:["facebook: ",s.profile.contacts.facebook]})]})};var h=t(6070);const c="MyPosts_play__tLmDT",f="MyPosts_my_btn__ABIfQ",m="MyPosts_my_inp__ql82R",x="Post_item__+C9iv",j=s=>(0,l.jsx)("div",{children:(0,l.jsxs)("div",{className:x,children:[(0,l.jsx)("img",{src:s.img,alt:"user photo"}),(0,l.jsx)("b",{children:s.message})]})});var v=t(9443),g=t(6139),P=t(704),_=t(5304),S=t(7978);const w=(0,P.Z)({form:"newPostForm"})((s=>(0,l.jsxs)("form",{className:c,onSubmit:s.handleSubmit,children:[(0,l.jsx)("div",{className:m,children:(0,l.jsx)(g.Z,{component:S.g,placeholder:"Create...",name:"newPostText",validate:[_.C,(0,_.D)(10)]})}),(0,l.jsx)("div",{className:f,children:(0,l.jsx)(v.Z,{name:"Send"})})]}))),N=r.memo((s=>{let e=s.profilePage.postsData.map((s=>(0,l.jsx)(j,{message:s.message,id:s.id,img:s.img},s.id)));return(0,l.jsx)("div",{className:"item",children:(0,l.jsxs)("div",{children:["My posts",(0,l.jsx)("div",{children:"New post"}),(0,l.jsx)("div",{children:(0,l.jsx)(w,{onSubmit:e=>{s.addNewPost(e.newPostText)}})}),e]})})}));var C=t(4420);const b=(0,C.$j)((s=>({profilePage:s.profilePage})),(s=>({addNewPost:e=>{s((0,h.Wl)(e))}})))(N);var k=t(7689);const I=s=>{let e=(0,k.s0)();return(0,r.useEffect)((()=>{if(!1===s.isAuth)return e("../login")}),[s.isAuth]),(0,l.jsxs)("div",{children:[(0,l.jsx)(d,{isOwner:s.isOwner,profile:s.profile,status:s.status,updateStatus:s.updateStatus,savePhoto:s.savePhoto}),(0,l.jsx)(b,{})]})};var y=t(4983);class O extends r.Component{refreshProfile(){let s=this.props.router.params.userId;s||(s=this.props.authorizedUserId,s||this.props.history.push("/login")),this.props.getUserProfile(s),this.props.getStatus(s)}componentDidMount(){this.refreshProfile()}componentDidUpdate(s,e,t){this.props.router.params.userId!=s.router.params.userId&&this.refreshProfile()}render(){return(0,l.jsx)(I,{...this.props,profile:this.props.profile,status:this.props.status,isOwner:!this.props.router.params.userId,updateStatus:this.props.updateStatus,savePhoto:this.props.savePhoto})}}const A=(0,C.$j)((s=>({profile:s.profilePage.profile,isAuth:s.auth.isAuth,status:s.profilePage.status,authorizedUserId:s.auth.userId})),{getUserProfile:h.et,getStatus:h.lR,updateStatus:h.Nf,savePhoto:h.Ju})((0,y.Z)(O))},8478:(s,e,t)=>{s.exports=t.p+"static/media/user.56c6643a0e5a32948dec.jpg"}}]);
//# sourceMappingURL=304.ac8fcbf8.chunk.js.map