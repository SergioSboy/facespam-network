"use strict";(self.webpackChunksocial_network=self.webpackChunksocial_network||[]).push([[569],{5569:(s,t,e)=>{e.r(t),e.d(t,{default:()=>A});var i=e(2791);const a="ProfileInfo_photo__8xnE2",o="ProfileInfo_content__img__-jOSP";var r=e(539),d=e(394),n=e(184);class p extends i.Component{constructor(){super(...arguments),this.state={editMode:!1,status:!this.props.status},this.activateEditMode=()=>{this.setState({editMode:!0})},this.deactivateEditMode=()=>{this.setState({editMode:!1}),this.props.updateStatus(this.state.status)},this.onStatusChange=s=>{this.setState({status:s.target.value})}}componentDidUpdate(s,t){s.status!==this.props.status&&this.setState({status:this.props.status})}render(){return(0,n.jsxs)("div",{children:[!this.state.editMode&&(0,n.jsx)("div",{children:(0,n.jsx)("span",{onDoubleClick:this.activateEditMode,children:this.props.status||"-----"})}),this.state.editMode&&(0,n.jsx)("div",{children:(0,n.jsx)(d.Z,{onChange:this.onStatusChange,onBlur:this.deactivateEditMode,value:this.props.status})})]})}}const l=p,u=s=>s.profile?(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{children:(0,n.jsx)("img",{alt:"description of image",className:o,src:"https://i.stack.imgur.com/SvWWN.png"})}),(0,n.jsxs)("div",{children:[(0,n.jsx)("img",{alt:"avatar",src:s.profile.photos.small,className:a}),s.profile.fullName]}),(0,n.jsxs)("div",{children:[(0,n.jsx)(l,{status:s.status,updateStatus:s.updateStatus}),"CONTACT:"]}),(0,n.jsxs)("div",{children:["facebook: ",s.profile.contacts.facebook]})]}):(0,n.jsx)(r.Z,{});var h=e(6070);const c="MyPosts_play__tLmDT",m="MyPosts_my_btn__ABIfQ",x="MyPosts_my_inp__ql82R",j="Post_item__+C9iv",f=s=>(0,n.jsx)("div",{children:(0,n.jsxs)("div",{className:j,children:[(0,n.jsx)("img",{src:s.img,alt:"user photo"}),(0,n.jsx)("b",{children:s.message})]})});var v=e(9443),g=e(6139),_=e(704),S=e(5304),P=e(7978);const M=(0,_.Z)({form:"newPostForm"})((s=>(0,n.jsxs)("form",{className:c,onSubmit:s.handleSubmit,children:[(0,n.jsx)("div",{className:x,children:(0,n.jsx)(g.Z,{component:P.g,placeholder:"Create...",name:"newPostText",validate:[S.C,(0,S.D)(10)]})}),(0,n.jsx)("div",{className:m,children:(0,n.jsx)(v.Z,{name:"Send"})})]}))),N=i.memo((s=>{let t=s.profilePage.postsData.map((s=>(0,n.jsx)(f,{message:s.message,id:s.id,img:s.img},s.id)));return(0,n.jsx)("div",{className:"item",children:(0,n.jsxs)("div",{children:["My posts",(0,n.jsx)("div",{children:"New post"}),(0,n.jsx)("div",{children:(0,n.jsx)(M,{onSubmit:t=>{s.addNewPost(t.newPostText)}})}),t]})})}));var C=e(4420);const b=(0,C.$j)((s=>({profilePage:s.profilePage})),(s=>({addNewPost:t=>{s((0,h.Wl)(t))}})))(N);var k=e(7689);const w=s=>{let t=(0,k.s0)();return(0,i.useEffect)((()=>{if(!1===s.isAuth)return t("../login")}),[s.isAuth]),(0,n.jsxs)("div",{children:[(0,n.jsx)(u,{profile:s.profile,status:s.status,updateStatus:s.updateStatus}),(0,n.jsx)(b,{})]})};var y=e(4983);class I extends i.Component{componentDidMount(){let s=this.props.router.params.userId;s||(s=this.props.authorizedUserId,s||this.props.history.push("/login")),this.props.getUserProfile(s),this.props.getStatus(s)}render(){return(0,n.jsx)(w,{...this.props,profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus})}}const A=(0,C.$j)((s=>({profile:s.profilePage.profile,isAuth:s.auth.isAuth,status:s.profilePage.status,authorizedUserId:s.auth.userId})),{getUserProfile:h.et,getStatus:h.lR,updateStatus:h.Nf})((0,y.Z)(I))}}]);
//# sourceMappingURL=569.1d9b2a9a.chunk.js.map